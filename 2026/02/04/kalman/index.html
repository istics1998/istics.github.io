<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="矢量性不严谨 机体和状态空间方程的量之间的关系 测量与估计 一维：111. 只考虑内部干扰质量为m的机器人匀速自由运动$\Rightarrow$加速度$a&#x3D;0$机体：    ①    定义机器人的状态为$X$，状态$X$与位置$x$和速度$x’$有关$\Rightarrow$状态$X&#x3D;\begin{bmatrix}x \x’ \end{bmatrix}  $$\Rightarr">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/2026/02/04/kalman/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="矢量性不严谨 机体和状态空间方程的量之间的关系 测量与估计 一维：111. 只考虑内部干扰质量为m的机器人匀速自由运动$\Rightarrow$加速度$a&#x3D;0$机体：    ①    定义机器人的状态为$X$，状态$X$与位置$x$和速度$x’$有关$\Rightarrow$状态$X&#x3D;\begin{bmatrix}x \x’ \end{bmatrix}  $$\Rightarr">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="file:///C:/Users/19108/Desktop/ChatGPT%20Image%202026%E5%B9%B42%E6%9C%882%E6%97%A5%2007_21_15.png">
<meta property="article:published_time" content="2026-02-03T16:38:34.722Z">
<meta property="article:modified_time" content="2026-02-04T00:49:26.460Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="file:///C:/Users/19108/Desktop/ChatGPT%20Image%202026%E5%B9%B42%E6%9C%882%E6%97%A5%2007_21_15.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 8.1.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS 订阅"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="搜索"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-kalman" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2026/02/04/kalman/" class="article-date">
  <time class="dt-published" datetime="2026-02-03T16:38:34.722Z" itemprop="datePublished">2026-02-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>矢量性不严谨</p>
<p>机体和状态空间方程的量之间的关系</p>
<p>测量与估计</p>
<h1 id="一维：11"><a href="#一维：11" class="headerlink" title="一维：11"></a>一维：11</h1><h2 id="1-只考虑内部干扰"><a href="#1-只考虑内部干扰" class="headerlink" title="1. 只考虑内部干扰"></a>1. 只考虑内部干扰</h2><h3 id="质量为m的机器人匀速自由运动-Rightarrow-加速度-a-0"><a href="#质量为m的机器人匀速自由运动-Rightarrow-加速度-a-0" class="headerlink" title="质量为m的机器人匀速自由运动$\Rightarrow$加速度$a&#x3D;0$"></a>质量为m的机器人匀速自由运动$\Rightarrow$加速度$a&#x3D;0$</h3><h3 id="机体："><a href="#机体：" class="headerlink" title="机体："></a>机体：</h3><p>    ①    定义机器人的状态为$X$，状态$X$与位置$x$和速度$x’$有关$\Rightarrow$<mark>状态$X&#x3D;\begin{bmatrix}x \x’ \end{bmatrix}  $</mark>$\Rightarrow X’&#x3D;\begin{bmatrix}x’ \x ‘’ \end{bmatrix}&#x3D;\begin{bmatrix}x’ \0 \end{bmatrix}$     </p>
<p>    ②    $x$和$x’$存在关系，将x和x’的关系，用协方差矩阵表示$\Rightarrow$<mark>不确定性$P&#x3D;\begin{bmatrix}\sum_{xx} \sum_{xx’} \\sum_{x’x} \sum_{x’x’} \end{bmatrix}$</mark></p>
<blockquote>
<p>变量$X$期望为$u$，变量$Y$期望为$v$，那么$X$,$Y$的协方差$cov(X,Y)&#x3D;E((X-u)(Y-v))&#x3D;E(X·Y)-uv$</p>
<p>$i$和$j$间的关系可用协方差矩阵$\sum_{ij}$表示，矩阵$i,j$位置的元素是第$i$个变量和第$j$个变量之间的相关程度(协方差)</p>
</blockquote>
<h4 id="k-时刻："><a href="#k-时刻：" class="headerlink" title="$k$时刻："></a>$k$时刻：</h4><p>    ①    <mark>状态$x$的最佳估计$\hat{\vec{X_k}}&#x3D;\begin{bmatrix}x_k  \x’_k \end{bmatrix}$</mark>    </p>
<p>    ②    <mark>不确定性$P_k&#x3D;\begin{bmatrix}\sum_{x_k x_k} \sum_{x_kx’<em>k} \\sum</em>{x’<em>kx_k} \sum</em>{x’_kx’_k} \end{bmatrix}$</mark></p>
<h4 id="预测：从-k-1-时刻到-k-时刻"><a href="#预测：从-k-1-时刻到-k-时刻" class="headerlink" title="预测：从$k-1$时刻到$k$时刻"></a>预测：从$k-1$时刻到$k$时刻</h4><p>    ①    $x_k&#x3D;x_{k-1}+\Delta t x’<em>{k-1},x’<em>k&#x3D;x’</em>{k-1}\Rightarrow \hat{X_k}&#x3D;\begin{bmatrix}1&amp;\Delta t\0&amp;1\end{bmatrix}\hat{X</em>{k-1}}\Rightarrow$<mark>状态$X$的最佳估计$\hat{X_k}&#x3D;F_k\hat{X_{k-1}}$</mark>，其中<mark>$F&#x3D;\begin{bmatrix}1&amp;\Delta t\0&amp;1\end{bmatrix} $</mark></p>
<p>    ②    将$P_{k-1}$乘以矩阵F以实现更新$\Rightarrow$<mark>不确定性$P_k&#x3D;F_kP_{k-1}F_k^T$</mark></p>
<blockquote>
<p>$Cov(x)&#x3D;\sum \rightarrow Cov(Ax)&#x3D;A\sum A^T$</p>
</blockquote>
<h3 id="状态空间方程："><a href="#状态空间方程：" class="headerlink" title="状态空间方程："></a>状态空间方程：</h3><p>    ①    为预测状态X的变化，设<mark>$ X’&#x3D;AX$</mark>$&#x3D;\begin{bmatrix}0&amp;1\0&amp;0\end{bmatrix}X\Rightarrow$<mark>系统矩阵$A&#x3D;\begin{bmatrix}0&amp;1\0&amp;0\end{bmatrix}$</mark></p>
<p>    ②    设位置$Y$为输出 $\Rightarrow $<mark>$Y&#x3D;$</mark>$x&#x3D;$<mark>$CX$</mark>$&#x3D;\begin{bmatrix}1&amp;0 \end{bmatrix}\begin{bmatrix}x\x’ \end{bmatrix}\Rightarrow$<mark>输出矩阵$C&#x3D;\begin{bmatrix}1&amp;0 \end{bmatrix}$</mark></p>
<h2 id="2-考虑外部干扰"><a href="#2-考虑外部干扰" class="headerlink" title="2. 考虑外部干扰"></a>2. 考虑外部干扰</h2><h3 id="外部给该机器人力-F-，沿机器人运动正方向，并考虑外部不可控扰动-Q"><a href="#外部给该机器人力-F-，沿机器人运动正方向，并考虑外部不可控扰动-Q" class="headerlink" title="外部给该机器人力$F$，沿机器人运动正方向，并考虑外部不可控扰动$Q$"></a>外部给该机器人力$F$，沿机器人运动正方向，并考虑外部不可控扰动$Q$</h3><h3 id="机体k时刻："><a href="#机体k时刻：" class="headerlink" title="机体k时刻："></a>机体k时刻：</h3><p>    ①    $x_k&#x3D;x_{k-1}+\Delta t x’<em>{k-1}+\frac{1}{2}\frac{F}{m}\Delta t^2,x’<em>k&#x3D;x’</em>{k-1}+\frac{F}{m}\Delta t\Rightarrow \hat{X_k}&#x3D;\begin{bmatrix}1&amp;\Delta t\0&amp;1\end{bmatrix}\hat{X</em>{k-1}}+\begin{bmatrix}\frac{\Delta t^2}{2m}\\frac{\Delta t}{m}\end{bmatrix}F$</p>
<p>$\Rightarrow$ $\hat{X_k}&#x3D;F_k\hat{X_{k-1}}+B^-<em>k u</em>{k-1}$，其中<mark>控制矩阵（输入矩阵）$ B^-<em>k&#x3D;\begin{bmatrix}\frac{\Delta t^2}{2m}\\frac{\Delta t}{m}\end{bmatrix}$</mark>，<mark>控制向量（输入变量）$\vec{u_k}&#x3D;F$</mark>，考虑噪声$\Rightarrow $<mark>状态X的最佳估计$\hat{X_k}&#x3D;F_k\hat{X</em>{k-1}}+B^-<em>k u</em>{k-1}+\Gamma_{k-1}w_{k-1}$</mark>，其中<mark>$\Gamma$为系统噪声驱动阵，此处设为单位阵$I$，$w$代表系统噪声，是由系统噪声随机变量组成的列向量，与状态$X$同为$n$维，$w$的协方差矩阵为$Q$</mark></p>
<p>    ②    <mark>不确定性$P_k&#x3D;F_kP_{k-1}F_k^T+Q_k$</mark></p>
<h3 id="状态空间方程：-1"><a href="#状态空间方程：-1" class="headerlink" title="状态空间方程："></a>状态空间方程：</h3><p>    ①    将$X’$拓展为<mark>$AX+Bu$</mark>，<mark> $u&#x3D;\begin{bmatrix}F  \end{bmatrix}$</mark>$&#x3D;mx’’ \Rightarrow X’’&#x3D;\frac{u}{m} \Rightarrow $<mark>$X’&#x3D;$</mark>$\begin{bmatrix}x’ \x ‘’ \end{bmatrix}&#x3D;$<mark>$\begin{bmatrix}0&amp;1\0&amp;0 \end{bmatrix}\begin{bmatrix}x \x ‘ \end{bmatrix}+\begin{bmatrix}0 \ \frac{1}{m} \end{bmatrix}u$</mark>，即<mark>$B&#x3D;\begin{bmatrix}0 \ \frac{1}{m} \end{bmatrix}$</mark></p>
<p>    ②    将$Y$拓展为<mark>$Y&#x3D;CX+Du$</mark>，$Y&#x3D;x&#x3D;\begin{bmatrix}1&amp;0 \end{bmatrix}\begin{bmatrix}x\x’ \end{bmatrix}$，即<mark>$C&#x3D;\begin{bmatrix}1&amp;0 \end{bmatrix}$</mark>，<mark>$D&#x3D;\begin{bmatrix}0\end{bmatrix}$</mark></p>
<h2 id="3-融合传感器数值"><a href="#3-融合传感器数值" class="headerlink" title="3. 融合传感器数值"></a>3. 融合传感器数值</h2><h3 id="机体k时刻：-1"><a href="#机体k时刻：-1" class="headerlink" title="机体k时刻："></a>机体k时刻：</h3><p>    ①    观测模型：传感器读数：均值(量测向量)$\vec{u_0}&#x3D;\vec{z_{k0}}&#x3D;C_{k0}\hat{X_{k0}}+v_{k0}$，方差$\sum_0&#x3D;P_k&#x3D;C_{k0}P_{k0}C_{k0}^T$，其中<mark>$v$代表量测噪声，是由量测噪声随机变量组成的列向量，与$z$同为$m$维，$v$的协方差矩阵为$R$,误差$e&#x3D;X-\hat{X}$，符合正态分布，$P$为$e$的协方差矩阵</mark></p>
<p>    ②   过程模型：通过模型预测：均值$\vec{u_1}&#x3D;\hat{X_{k0}}&#x3D;F_{k0}\hat{X_{(k-1)0}}+B^-<em>{k0} u</em>{(k-1)0}+\Gamma_{(k-1)0}w_{(k-1)0}$，方差$\sum_1&#x3D;Q_{k0}&#x3D;\Gamma_k Q_k^w\Gamma_k^T$</p>
<p>融合传感器读数与预测值：相乘以得到重叠部分$\Rightarrow$</p>
<p>    ①    $ C_{k0}\hat{X_k}&#x3D;C_{k0}\hat{X_{k0}}+K_{0}(\vec{z_{k0}}-C_{k0}\hat{X_{k0}})$</p>
<p>    ②    $C_{k0}P_kC_{k0}^T&#x3D;C_{k0}P_{k0}C_{k0}^T-K_0C_{k0}P_{k0}C_{k0}^T$</p>
<p>    ③    其中$K_0&#x3D;\frac{C_{k0}P_{k0}C_{k0}^T}{C_{k0}P_{k0}C_{k0}^T+R_{k0}}$</p>
<blockquote>
<p>均值$u_0$，方差$\sigma^2_0$的变量乘以均值$u_1$，方差$\sigma^2_1$的变量，得到的新变量均值$\vec{u’}&#x3D;\vec{u_0}+K(\vec{u_1}-\vec{u_0})$，方差$\sum’&#x3D;\sum_0-K\sum_0$，其中$K&#x3D;\frac{\sum_0}{\sum_0+\sum_1}$，即卡尔曼增益</p>
</blockquote>
<p>化简$\Rightarrow$</p>
<p>    ①    <mark>最佳估计$\hat{X_k}&#x3D;\hat{X_{k0}}+K(\vec{z_{k0}}-C_{k0}\hat{X_{k0}})$</mark></p>
<p>    ②    <mark>不确定性$P_k&#x3D;\Gamma P_{k0}-KC_{k0}P_{k0}$</mark> </p>
<p>    ③    其中<mark>卡尔曼增益$K&#x3D;\frac{P_{k0}C_{k0}^T}{C_{k0}P_{k0}C_{k0}^T+R_{k0}}$</mark>，或<mark>$K&#x3D;$ </mark>$\Delta t L &#x3D;$<mark>$&#x3D;\begin{bmatrix}\Delta t l_1 \ \Delta t l_2 \end{bmatrix}&#x3D;\begin{bmatrix}k_1 \ k_2\end{bmatrix}$</mark></p>
<p>令$u_k&#x3D;0\Rightarrow$</p>
<p>    ①    $X_k&#x3D;X_{k0}+k_1(z_{k0}-X_{k0}) \Rightarrow X_k&#x3D;(1-k_1)X_{k0}+k_1z_{k0}\Rightarrow$互补滤波</p>
<p>    ②    $X_k’&#x3D;X_{k0}’+k_2(z_{k0}-X_{k0})$，由$X_{k0}&#x3D;X_{(k-1)0}+\Delta t X_{(k-1)0}’$以及$X_{k0}’&#x3D;X_{(k-1)0}’\Rightarrow X_k’&#x3D;X_{(k-1)0}’+k_2(z_{k0}-(X_{(k-1)0}+\Delta t X_{(k-1)0}’)) \Rightarrow X_k’&#x3D;(1-\Delta t k_2)X_{(k-1)0}’+\Delta t k_2 \frac{z_{k0}-X_{(k-1)0}}{\Delta t}\Rightarrow$互补滤波</p>
<h3 id="状态空间方程：-2"><a href="#状态空间方程：-2" class="headerlink" title="状态空间方程："></a>状态空间方程：</h3><p>    ①    将位置测量值$z$与位置估计值$C\hat{X}$相减作为反馈，乘以观测增益L，并加到状态向量$X \Rightarrow$<mark>$X’&#x3D;AX+Bu+L(z-CX)$</mark>，其中增益<mark>$L&#x3D;\begin{bmatrix}l_1 \l_2 \end{bmatrix}$</mark></p>
<h1 id=""><a href="#" class="headerlink" title=""></a></h1><h1 id="扩展到二维"><a href="#扩展到二维" class="headerlink" title="扩展到二维:"></a>扩展到二维:</h1><h2 id="1-只考虑内部干扰-1"><a href="#1-只考虑内部干扰-1" class="headerlink" title="1. 只考虑内部干扰"></a>1. 只考虑内部干扰</h2><h3 id="质量为m的机器人匀速自由运动-Rightarrow-加速度a-0"><a href="#质量为m的机器人匀速自由运动-Rightarrow-加速度a-0" class="headerlink" title="质量为m的机器人匀速自由运动$\Rightarrow$加速度a&#x3D;0"></a>质量为m的机器人匀速自由运动$\Rightarrow$加速度a&#x3D;0</h3><h3 id="机体从-k-1-时刻到-k-时刻："><a href="#机体从-k-1-时刻到-k-时刻：" class="headerlink" title="机体从$k-1$时刻到$k$时刻："></a>机体从$k-1$时刻到$k$时刻：</h3><p>$x_k&#x3D;x_{k-1}+\Delta t x’<em>{k-1},x’<em>k&#x3D;x’</em>{k-1},y_k&#x3D;y</em>{k-1}+\Delta t y’<em>{k-1},y’<em>k&#x3D;y’</em>{k-1}$<mark>状态$X&#x3D;\begin{bmatrix}x \y\x’\y’ \end{bmatrix}$</mark>，$\begin{bmatrix}x_k\y_k\x_k’\y_k’ \end{bmatrix}&#x3D;\begin{bmatrix}1&amp;0&amp; \Delta t &amp;0\0&amp;1&amp;0&amp;\Delta t\0&amp;0&amp;1&amp;0\0&amp;0&amp;0&amp;1 \end{bmatrix}\begin{bmatrix}x</em>{k-1} \y_{k-1}\x_{k-1}’\y_{k-1}’ \end{bmatrix}$，即<mark>$F&#x3D;\begin{bmatrix}1&amp;0&amp; \Delta t &amp;0\0&amp;1&amp;0&amp;\Delta t\0&amp;0&amp;1&amp;0\0&amp;0&amp;0&amp;1 \end{bmatrix}$</mark></p>
<p>设位置$x,y$为输出$ \Rightarrow $<mark>$Y&#x3D;$</mark>$\begin{bmatrix}x\y \end{bmatrix}&#x3D;$<mark>$CX$</mark>$&#x3D;\begin{bmatrix}1&amp;0&amp;0&amp;0 \0&amp;1&amp;0&amp;0\end{bmatrix}\begin{bmatrix}x \y\x’\y’ \end{bmatrix}\Rightarrow $<mark>输出矩阵$C&#x3D;\begin{bmatrix}1&amp;0&amp;0&amp;0 \0&amp;1&amp;0&amp;0\end{bmatrix}$</mark></p>
<h2 id="2-考虑外部干扰-1"><a href="#2-考虑外部干扰-1" class="headerlink" title="2. 考虑外部干扰"></a>2. 考虑外部干扰</h2><h3 id="外部给该机器人力-F-x-F-y-，沿机器人运动正方向"><a href="#外部给该机器人力-F-x-F-y-，沿机器人运动正方向" class="headerlink" title="外部给该机器人力$F_x,F_y$，沿机器人运动正方向"></a>外部给该机器人力$F_x,F_y$，沿机器人运动正方向</h3><h3 id="机体k时刻：-2"><a href="#机体k时刻：-2" class="headerlink" title="机体k时刻："></a>机体k时刻：</h3><p>$x_k&#x3D;x_{k-1}+\Delta t x’<em>{k-1}+\frac{1}{2}\frac{F_x}{m}\Delta t^2,x’<em>k&#x3D;x’</em>{k-1}+\frac{F_x}{m}\Delta t,y_k&#x3D;y</em>{k-1}+\Delta t y’<em>{k-1}+\frac{1}{2}\frac{F_y}{m}\Delta t^2,y’<em>k&#x3D;y’</em>{k-1}+\frac{F_y}{m}\Delta t \Rightarrow X_k&#x3D;\begin{bmatrix}1&amp;0&amp; \Delta t &amp;0\0&amp;1&amp;0&amp;\Delta t\0&amp;0&amp;1&amp;0\0&amp;0&amp;0&amp;1 \end{bmatrix}X</em>{k-1}+\begin{bmatrix}\frac{\Delta t^2}{2m}&amp;0\0&amp;\frac{\Delta t^2}{2m}\\frac{\Delta t}{m}&amp;0\0&amp;\frac{\Delta t}{m} \end{bmatrix}\begin{bmatrix}F_x\F_y\end{bmatrix} \Rightarrow$</p>
<p><mark>状态X的最佳估计$\hat{X_k}&#x3D;F_k\hat{X_{k-1}}+B^-_k u_k$</mark>，其中<mark>控制矩阵（输入矩阵）$B&#x3D;\begin{bmatrix}\frac{\Delta t^2}{2m}&amp;0\0&amp;\frac{\Delta t^2}{2m}\ \frac{\Delta t}{m}&amp;0\0&amp;\frac{\Delta t}{m} \end{bmatrix}$</mark>，<mark>控制向量（输入变量）$\vec{u_k}&#x3D;\begin{bmatrix}F_x\F_y\end{bmatrix}$</mark></p>
<p>    将$Y$拓展为<mark>$Y&#x3D;CX+Du$</mark>，<mark>$Y&#x3D;$</mark>$\begin{bmatrix}x\y \end{bmatrix}&#x3D;$<mark>$\begin{bmatrix}1&amp;0&amp;0&amp;0 \0&amp;1&amp;0&amp;0\end{bmatrix}\begin{bmatrix}x \y\x’\y’ \end{bmatrix}$</mark>，即$C&#x3D;\begin{bmatrix}1&amp;0&amp;0&amp;0 \0&amp;1&amp;0&amp;0\end{bmatrix}$,<mark>$D&#x3D;\begin{bmatrix}0\end{bmatrix}$</mark></p>
<h2 id="3-融合传感器数值-1"><a href="#3-融合传感器数值-1" class="headerlink" title="3. 融合传感器数值"></a>3. 融合传感器数值</h2><h3 id="机体k时刻：-3"><a href="#机体k时刻：-3" class="headerlink" title="机体k时刻："></a>机体k时刻：</h3><p>通过模型预测：均值$\vec{u_1}&#x3D;$<mark>$\vec{z_{k0}}&#x3D;\begin{bmatrix}x_k\y_k \end{bmatrix}$</mark></p>
<p>最佳估计<mark>$\hat{X_k}&#x3D;\hat{X_{k0}}+K(\vec{z_{k0}}-C_{k0}\hat{X_{k0}})$</mark>，其中卡尔曼增益<mark>$K&#x3D;\begin{bmatrix}k_{11}  k_{12}\k_{21} k_{22} \k_{31} k_{32}\k_{41} k_{42} \end{bmatrix}$</mark></p>
<h6 id="（-经典控制理论："><a href="#（-经典控制理论：" class="headerlink" title="（    经典控制理论："></a>（    经典控制理论：</h6><ul>
<li><p><input checked="" disabled="" type="checkbox"> 
            1线性系统的输出响应 </p>
</li>
<li><p><input checked="" disabled="" type="checkbox"> 
            2拉普拉斯变换与传递函数</p>
</li>
</ul>
<p>            3系统方框图 </p>
<p>            4传递函数零极点 </p>
<p>            5系统稳定性 </p>
<p>            6一阶系统与二阶系统 </p>
<p>            7时域特性 </p>
<p>            理解“系统”</p>
<p>            8根轨迹 </p>
<p>            9频率响应基本概念                    ）</p>
<h6 id="状态估计-控制算法实践："><a href="#状态估计-控制算法实践：" class="headerlink" title="状态估计&#x2F;控制算法实践："></a>状态估计&#x2F;控制算法实践：</h6><ul>
<li><input checked="" disabled="" type="checkbox">             从全状态观测器到卡尔曼滤波器（一）（二）（三）（四）</li>
</ul>
<p>            Mahony姿态解算算法笔记（一）（二）</p>
<p>            傅里叶变换推导</p>
<p>            从全状态观测器到卡尔曼滤波器（五）（六）</p>
<p>            四元数EKF姿态更新算法</p>
<h6 id="平衡步兵："><a href="#平衡步兵：" class="headerlink" title="平衡步兵："></a>平衡步兵：</h6><ul>
<li><p><input disabled="" type="checkbox"> 
            RoboMaster平衡步兵机器人控制系统设计</p>
</li>
<li><p><input disabled="" type="checkbox"> 
            五连杆运动学解算与VMC</p>
</li>
<li><p><input disabled="" type="checkbox"> 
            轮腿倒立摆机器人运动速度估计</p>
</li>
</ul>
<p>        （强化学习如何使足式机器人利用数据学会行走）</p>
<img title="" src="file:///C:/Users/19108/Desktop/ChatGPT Image 2026年2月2日 07_21_15.png" alt="" width="406">

<table>
<thead>
<tr>
<th>时刻</th>
<th>位置</th>
<th align="left">速度</th>
<th>状态</th>
<th>协方差</th>
<th>状态导数</th>
<th>输出</th>
</tr>
</thead>
<tbody><tr>
<td>定义</td>
<td>x</td>
<td align="left">$v&#x3D;x’$</td>
<td>$X&#x3D;\begin{bmatrix}x \v \end{bmatrix}&#x3D;\begin{bmatrix}x \x’ \end{bmatrix}$</td>
<td>$P&#x3D;\begin{bmatrix}\sum_{xx} \sum_{xx’} \\sum_{x’x} \sum_{x’x’} \end{bmatrix}$</td>
<td>$X’&#x3D;A’X$</td>
<td>$Y&#x3D;CX$</td>
</tr>
<tr>
<td>$k-1$</td>
<td>$x_{k-1}$</td>
<td align="left">$x_{k-1}’$</td>
<td>$X_{k-1}&#x3D;\begin{bmatrix}x_{k-1} \x_{k-1}’ \end{bmatrix}$</td>
<td>$P_{k-1}&#x3D;\begin{bmatrix}\sum_{x_{k-1} x_{k-1}} \sum_{x_{k-1}x’<em>{k-1}} \\sum</em>{x’<em>{k-1}x</em>{k-1}} \sum_{x’<em>{k-1}x’</em>{k-1}} \end{bmatrix}$</td>
<td>$X_{k-1}’&#x3D;A’X_{k-1}$</td>
<td>$Y_{k-1}&#x3D;CX_{k-1}$</td>
</tr>
<tr>
<td>$k$（只考虑本身）</td>
<td>$x_{k0}&#x3D;x_{k-1}+\Delta t x’_{k-1}$</td>
<td align="left">$x’<em>k&#x3D;x’</em>{k-1}$</td>
<td>$X_k&#x3D;AX_{k-1}$</td>
<td>$P_k&#x3D;AP_{k-1}A^T$</td>
<td>$X_k’&#x3D;A’X_k$</td>
<td>$Y_k&#x3D;CX_k$</td>
</tr>
<tr>
<td>$k$（施加外力$F$作为控制输入$u$）</td>
<td>$x_k&#x3D;x_{k-1}+\Delta t x’_{k-1}+\frac{1}{2}\frac{u_k}{m}\Delta t^2$</td>
<td align="left">$x’<em>k&#x3D;x’</em>{k-1}+\frac{u_k}{m}\Delta t$</td>
<td>$X_k&#x3D;AX_{k-1}+Bu_k$</td>
<td>$P_k&#x3D;AP_{k-1}A^T$</td>
<td>$X_k’&#x3D;A’X_k+B’u_k$</td>
<td>$Y_k&#x3D;CX_k+Du$</td>
</tr>
<tr>
<td>$k$（并考虑过程噪声$w$）</td>
<td></td>
<td align="left"></td>
<td>$X_k&#x3D;AX_{k-1}+Bu_k+\Gamma w_{k-1}$</td>
<td>$P_k&#x3D;AP_{k-1}A^T+Q$</td>
<td></td>
<td></td>
</tr>
<tr>
<td>$k$（并考虑传感器<mark>④测量值$z$</mark>及测量噪声$v$，将误差$e&#x3D;z_k-HX_k^-$反馈回系统）</td>
<td></td>
<td align="left"></td>
<td>$X_K$先验后验：$X_k^-&#x3D;E[X_k|z_{k-1}]，X_{k-1}^+&#x3D;E[x_{k-1}|z_{k-1}],X_k^-&#x3D;AX_{k-1}^+ +Bu_k$，$e_k$先验后验：$e^-<em>k&#x3D;X_k-X_k^-,e</em>{k-1}^+&#x3D;X_{k-1}-X_{k-1}^+,e^-<em>k&#x3D;Ae</em>{k-1}^+ +\Gamma w_k$，最终：<mark>②$X_k^-&#x3D;AX_{k-1}$</mark>+$Bu_k$，<mark>⑥$X_k^+&#x3D;X_k^-+K_k err$</mark>，其中$z_k&#x3D;Hx_k+v_k$</td>
<td>先验后验：$P_k^-&#x3D;E[e_k^-(e_k^-)^T|z_{k-1}],P_{k-1}^+ &#x3D; E[e_{k-1}^+(e_{k-1}^+)^T|z_{k-1}]$最终：<mark>③$P_k^-&#x3D;AP_{k-1}^+A^T+\Gamma Q \Gamma^T$</mark>,<mark>⑦$P_k^+&#x3D;(I-K_kH)P_k^-$</mark></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td align="left"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>相关量</td>
<td><mark>①状态转移矩阵$A&#x3D;\begin{bmatrix}1&amp;\Delta t\0&amp;1\end{bmatrix}$</mark></td>
<td align="left">控制输入矩阵$B&#x3D;\begin{bmatrix}\frac{\Delta t^2}{2m}\\frac{\Delta t}{m}\end{bmatrix}$</td>
<td>输出矩阵$C&#x3D;\begin{bmatrix}1&amp;0 \end{bmatrix}$</td>
<td>$D&#x3D;\begin{bmatrix}0\end{bmatrix}$</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><mark>⑤卡尔曼增益$K_k&#x3D;\frac{P_k^-H^T}{HP_k^-H^T+R}$</mark></td>
<td align="left">$\Gamma$为系统噪声驱动阵，一般为$I$</td>
<td>测量矩阵$H$,<mark>$H$初始为对角单位矩阵</mark></td>
<td>矩阵$I$,<mark>初始为对角单位矩阵</mark></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>w ∼ N(0, Q)，E[w] &#x3D; 0，Cov(w) &#x3D; Q，<mark>$Q$初始为对角矩阵，对角为$Q_{COEFF}$</mark>，越大越相信$z$</td>
<td align="left">e ∼ N(0, P)，E[e] &#x3D; 0，Cov(e) &#x3D; P,<mark>$P$初始为对角单位矩阵</mark></td>
<td>v ∼ N(0, R)，E[v] &#x3D; 0，Cov(v) &#x3D; R,<mark>$R$初始为对角矩阵，对角为$R_{COEFF}$</mark>，越大越相信$X$</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>$X_k&#x3D;AX_{k-1}$</p>
<ol>
<li><p>初始化$A,Q,P,R$</p>
</li>
<li><p>$X_k^-&#x3D;AX_{k-1}$</p>
</li>
<li><p>$P_k^-&#x3D;AP_{k-1}^+A^T+Q $</p>
</li>
<li><p>$Z$</p>
</li>
<li><p>$K_k&#x3D;\frac{P_k^-H^T}{HP_k^-H^T+R}$</p>
</li>
<li><p>$X_k^+&#x3D;X_k^-+K_k(z_k-HX_k^-)$</p>
</li>
<li><p>$P_k^+&#x3D;(I-K_kH)P_k^-$</p>
</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/350974281">(8 封私信 &#x2F; 78 条消息) 从全状态观测器到卡尔曼滤波器（六）姿态解算中的应用与代码 - 知乎</a>的卡尔曼滤波代码逻辑</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">int main()</span><br><span class="line">1. 初始化IMU</span><br><span class="line">2. 初始化卡尔曼滤波器</span><br><span class="line">    2.1 X = [gx,gy,gz]</span><br><span class="line">    2.2 H对角单位矩阵</span><br><span class="line">    2.3 I对角单位矩阵</span><br><span class="line">    2.4 P_pred= [100, 0.1  , 0.1,</span><br><span class="line">                 0.1 , 100 , 0.1,</span><br><span class="line">                 0.1 , 0.1 , 100]</span><br><span class="line">    2.5 Q对角矩阵 对角为过程噪声</span><br><span class="line">    2.6 R对角矩阵 对角为观测噪声</span><br><span class="line">while(1)</span><br><span class="line">&#123;</span><br><span class="line">    3. 获得处理后的IMU数据：gx,gy,gz,ax,ay,az</span><br><span class="line">    4. 卡尔曼滤波更新：</span><br><span class="line">        4.1 A = [  1   , gz*dt  ,-gy*dt;</span><br><span class="line">                -gz*dt ,    1   , gx*dt;</span><br><span class="line">                 gy*dt , -gx*dt ,   1   ]</span><br><span class="line">        4.2 X_prev = A * X</span><br><span class="line">        4.3 P_prev = A * P_pred * A^T + Q</span><br><span class="line">        4.4 Z = [ax,ay,az]</span><br><span class="line">        4.5 K = P_prev * (P_prev + R)^-1</span><br><span class="line">        4.6 err = z - X_prev</span><br><span class="line">        4.7 X_pred = X_prev + K*err</span><br><span class="line">        4.8 P_pred = (I - K) * P_prev</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2026/02/04/kalman/" data-id="cuiduNWbkk3rRSzltHdPJqWK-" data-title="" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2026/02/04/%E5%8D%A1%E5%B0%94%E6%9B%BC%E6%BB%A4%E6%B3%A2/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">前一篇</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2026/02/">二月 2026</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2026/02/04/%E5%8D%A1%E5%B0%94%E6%9B%BC%E6%BB%A4%E6%B3%A2/">(no title)</a>
          </li>
        
          <li>
            <a href="/2026/02/04/kalman/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2026 Hexo<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>